runtime: "container"

build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "."

startCommand:
  type: "stdio"
  configSchema:
    type: "object"
    required:
      - "fastmailApiToken"
    properties:
      fastmailApiToken:
        type: "string"
        title: "Fastmail API Token"
        description: "Your Fastmail API token. Get one from https://app.fastmail.com/settings/security/tokens/new"
      defaultMailbox:
        type: "string"
        title: "Default Mailbox"
        description: "Default mailbox to search (e.g., inbox, sent)"
        default: ""
      maxResults:
        type: "number"
        title: "Max Results"
        description: "Maximum emails to return (default: 10, max: 50)"
        default: 10
  commandFunction: |-
    (config) => ({
      command: 'python',
      args: ['fastmail_mcp.py'],
      env: {
        FASTMAIL_API_TOKEN: config.fastmailApiToken
      }
    })
